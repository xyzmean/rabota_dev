# üöÄ –ë—ã—Å—Ç—Ä–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ Production

## –ü—Ä–æ–±–ª–µ–º–∞
–ù–∞ —Å–∞–π—Ç–µ https://rabota.yo1nk.ru –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "Route not found" –ø–æ—Ç–æ–º—É —á—Ç–æ –∫–æ–¥ **–ù–ï –û–ë–ù–û–í–õ–Å–ù** –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

–í–∞—à–∞ –≤–µ—Ä—Å–∏—è: `index-BBcwpLcW.js` (—Å—Ç–∞—Ä–∞—è)
–ù—É–∂–Ω–∞ –≤–µ—Ä—Å–∏—è: `index-BQbn_S1t.js` (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏)

## –†–µ—à–µ–Ω–∏–µ - 3 –ø—Ä–æ—Å—Ç—ã—Ö —à–∞–≥–∞

### 1Ô∏è‚É£ –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É

```bash
ssh user@rabota.yo1nk.ru
```

### 2Ô∏è‚É£ –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞

```bash
cd /path/to/RaboTA
```

–ó–∞–º–µ–Ω–∏—Ç–µ `/path/to/RaboTA` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –ø—É—Ç—å –∫ –ø—Ä–æ–µ–∫—Ç—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

### 3Ô∏è‚É£ –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

```bash
# –°–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º (—Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–π —Ä–∞–∑)
chmod +x deploy.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
./deploy.sh
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- ‚úÖ –û–±–Ω–æ–≤–∏—Ç –∫–æ–¥ –∏–∑ Git
- ‚úÖ –û–±–Ω–æ–≤–∏—Ç nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
- ‚úÖ –ü–µ—Ä–µ—Å–æ–±–µ—Ä—ë—Ç Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
- ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç —Å–µ—Ä–≤–∏—Å—ã
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± (–≤—Ä—É—á–Ω—É—é)

–ï—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã –≤—Ä—É—á–Ω—É—é:

```bash
# 1. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥
git pull origin master

# 2. –û–±–Ω–æ–≤–∏—Ç—å nginx
sudo cp nginx-host.conf /etc/nginx/sites-available/rabota.yo1nk.ru
sudo nginx -t
sudo systemctl reload nginx

# 3. –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å Docker
docker compose down
docker compose build --no-cache
docker compose up -d

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
docker compose ps
curl http://localhost:8081/api/shifts
```

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://rabota.yo1nk.ru –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ (F12)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è `index-BQbn_S1t.js` (–∞ –Ω–µ `index-BBcwpLcW.js`)
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

## ‚ö†Ô∏è –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
docker compose logs -f

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
docker compose ps

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å nginx
sudo systemctl status nginx
sudo tail -f /var/log/nginx/rabota_error.log

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å—ë
docker compose restart
```

## üì± –û –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–∏ Safari "–ú–æ—à–µ–Ω–Ω–∏—á–µ—Å–∫–∏–π —Å–∞–π—Ç"

–≠—Ç–æ –ù–ï —Å–≤—è–∑–∞–Ω–æ —Å –∫–æ–¥–æ–º. –≠—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞.

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç:**
```bash
sudo certbot certificates
```

**–ï—Å–ª–∏ –Ω–µ—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –∏–ª–∏ –æ–Ω –∏—Å—Ç—ë–∫:**
```bash
sudo certbot --nginx -d rabota.yo1nk.ru
sudo systemctl reload nginx
```

**–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞:**
- –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à Safari –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí Safari ‚Üí –û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∏ –¥–∞–Ω–Ω—ã–µ —Å–∞–π—Ç–æ–≤

## üìû –ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?

–ï—Å–ª–∏ –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–∏—Ö —à–∞–≥–æ–≤ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–µ–Ω–∞:

1. –ü–æ–∫–∞–∂–∏—Ç–µ –≤—ã–≤–æ–¥ –∫–æ–º–∞–Ω–¥:
   ```bash
   docker compose ps
   docker compose logs backend --tail 50
   docker compose logs frontend --tail 50
   curl http://localhost:8081/api/shifts
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ (F12 ‚Üí Network):
   - –ö–∞–∫–æ–π —Ñ–∞–π–ª –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è (index-*.js)?
   - –ö–∞–∫–∏–µ –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏?
   - –ö–∞–∫–æ–π —Å—Ç–∞—Ç—É—Å —É –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ /api/*?
